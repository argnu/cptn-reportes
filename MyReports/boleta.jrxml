<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.5.1.final using JasperReports Library version 6.5.1  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="boletas_impresion" pageWidth="595" pageHeight="842" columnWidth="497" leftMargin="70" rightMargin="28" topMargin="28" bottomMargin="28" uuid="4b51fc2b-4087-4e9f-a1e7-2d8e015720e8">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="cptn_prueba"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="cm"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="cm"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="cm"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="cm"/>
	<subDataset name="ds_boleta_items" uuid="83cac93a-18c8-4ea5-893b-f72cf4127761">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="cptn_prueba"/>
		<parameter name="boleta_id" class="java.lang.Integer"/>
		<queryString language="SQL">
			<![CDATA[select bi.item,  bi.descripcion, bi.importe
from boleta_item bi
inner join boleta b on (bi.boleta=b.id) 
where bi.boleta = $P{boleta_id}
group by bi.item, bi.descripcion , bi.importe
order by bi.item]]>
		</queryString>
		<field name="item" class="java.lang.Integer">
			<property name="com.jaspersoft.studio.field.label" value="item"/>
		</field>
		<field name="descripcion" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="descripcion"/>
		</field>
		<field name="importe" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.label" value="importe"/>
		</field>
	</subDataset>
	<parameter name="boleta_id" class="java.lang.String"/>
	<queryString language="SQL">
		<![CDATA[select b.id as id_boleta, b.numero, COALESCE(to_char(b.fecha, 'DD/MM/YYYY'), '')  as fecha_emision, to_char(b.fecha_vencimiento, 'DD/MM/YYYY') as fecha_vto, m."numeroMatricula", b.total,
dom.direccion || '(' || l.nombre || ')' as direccion,
case when (p.id is not null) then 'Nombre y Apellido: ' || p.nombre || ' ' || p.apellido 
     else 'Razon Social ' || emp.nombre
     end as nombre
from boleta b
inner join matricula m
on (b.matricula=m.id)
left join profesional p on (p.id=m.entidad)
left join empresa emp on (m.entidad=emp.id)
left join entidad_domicilio edom on (edom.entidad=m.entidad)
left join domicilio dom on (dom.id= edom.domicilio)
left join localidad l on (dom.localidad=l.id)
where edom.tipo='real' and b.id = cast( $P{boleta_id} as INTEGER)]]>
	</queryString>
	<field name="id_boleta" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="id_boleta"/>
	</field>
	<field name="numero" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="numero"/>
	</field>
	<field name="fecha_emision" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="fecha_emision"/>
	</field>
	<field name="fecha_vto" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="fecha_vto"/>
	</field>
	<field name="numeroMatricula" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="numeroMatricula"/>
	</field>
	<field name="total" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.label" value="total"/>
	</field>
	<field name="direccion" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="direccion"/>
	</field>
	<field name="nombre" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="nombre"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="595" splitType="Stretch">
			<frame>
				<reportElement x="0" y="1" width="498" height="179" uuid="4def0e05-4c1b-4279-aaf9-7bacca0096bb"/>
				<rectangle>
					<reportElement x="0" y="115" width="498" height="90" uuid="2e13db35-a1c4-4a0d-9d11-6d9406a33035"/>
				</rectangle>
				<staticText>
					<reportElement x="0" y="0" width="498" height="116" uuid="014e3b0a-48b6-42d4-b5aa-1cbd11967c08"/>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font fontName="Estandar-Regular" size="12"/>
					</textElement>
					<text><![CDATA[]]></text>
				</staticText>
				<textField pattern="###0.00;-###0.00">
					<reportElement x="6" y="170" width="486" height="20" uuid="5401676d-866a-4fe6-9915-c17ed3309d30">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="87440537-0e6c-4518-b4aa-20fd751bef88"/>
					</reportElement>
					<textElement textAlignment="Right">
						<font fontName="Estandar-Regular" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA["Total   " +$F{total}]]></textFieldExpression>
				</textField>
				<image>
					<reportElement x="10" y="1" width="160" height="37" uuid="d06df094-34a3-4d39-8d39-e3bafba752e9"/>
					<imageExpression><![CDATA["resources/encabezado_boleta.png"]]></imageExpression>
				</image>
				<textField>
					<reportElement x="332" y="29" width="160" height="18" uuid="54e40abd-40ce-4de5-a1a3-6672ed8cb5b0"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Estandar-Regular"/>
					</textElement>
					<textFieldExpression><![CDATA["Fecha de Emision: " + $F{fecha_emision}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="10" y="58" width="308" height="20" uuid="76c5aa03-c208-4e33-a783-55c9ee8dd4ca"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font fontName="Estandar-Regular"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{nombre}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="10" y="79" width="308" height="31" uuid="369de76c-8f58-4986-8b91-e22c82b9c4e1"/>
					<textElement>
						<font fontName="Estandar-Regular"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{direccion}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="10" y="38" width="180" height="19" uuid="4fc88fbb-2d87-4d38-a9b6-97ac4f4232ab"/>
					<textElement verticalAlignment="Middle">
						<font fontName="klavica" size="10"/>
					</textElement>
					<textFieldExpression><![CDATA["Nro Matricula:  " + $F{numeroMatricula}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="332" y="48" width="160" height="20" uuid="a60cb6d6-2a69-4437-ac43-67b8a711fe0b"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Estandar-Regular"/>
					</textElement>
					<textFieldExpression><![CDATA["Fecha de Vto: " + $F{fecha_vto}]]></textFieldExpression>
				</textField>
				<componentElement>
					<reportElement positionType="Float" x="0" y="116" width="498" height="20" uuid="c4a8e024-30de-4427-9430-6ecc5e49ea73"/>
					<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
						<datasetRun subDataset="ds_boleta_items" uuid="50108174-e374-4c77-9f49-ee991c7892ca">
							<datasetParameter name="boleta_id">
								<datasetParameterExpression><![CDATA[$F{id_boleta}]]></datasetParameterExpression>
							</datasetParameter>
							<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
						</datasetRun>
						<jr:listContents height="20" width="498">
							<textField>
								<reportElement x="0" y="1" width="40" height="18" uuid="99fe90db-d435-4b2b-b321-ae4b8f339fb4"/>
								<textElement>
									<font fontName="Estandar-Regular"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{item}]]></textFieldExpression>
							</textField>
							<textField>
								<reportElement x="40" y="1" width="370" height="17" uuid="4febc50d-10d8-4464-9769-e70b23e1a7a8"/>
								<textElement>
									<font fontName="Estandar-Regular"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{descripcion}]]></textFieldExpression>
							</textField>
							<textField pattern="###0.00;-###0.00">
								<reportElement x="410" y="1" width="74" height="17" uuid="3105b03d-f425-4a96-8a76-59ad333a01f5"/>
								<textElement textAlignment="Right">
									<font fontName="Estandar-Regular"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{importe}]]></textFieldExpression>
							</textField>
						</jr:listContents>
					</jr:list>
				</componentElement>
				<textField>
					<reportElement x="210" y="10" width="107" height="19" uuid="441dcf75-7729-46dd-a852-4a33afa3b663"/>
					<textElement verticalAlignment="Middle">
						<font fontName="klavica" size="10"/>
					</textElement>
					<textFieldExpression><![CDATA["NÂ°  " + $F{numero}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="330" y="1" width="1" height="115" uuid="7def5c95-eca9-452b-ba8f-daea2641c93f"/>
				</line>
			</frame>
		</band>
	</detail>
</jasperReport>
